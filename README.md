# IQlympics - Global Trivia Competition

IQlympics is a competitive trivia game built for Reddit using the Devvit platform, where players represent their countries in a global knowledge competition. Every correct answer contributes points to your nation's leaderboard position, creating a unique blend of individual skill and national pride.

## What is IQlympics?

IQlympics transforms traditional trivia into a patriotic team sport where players compete for their nation's glory. This trivia competition features an engaging splash screen showcasing the current top 3 countries on a podium with medals, followed by intense multiple-choice gameplay where every decision matters - you only get 5 wrong answers before elimination!

### Core Game Features

- **🌍 Country Representation**: Choose from 195+ countries with authentic flag displays and comprehensive search functionality
- **🧠 Multiple-Choice Trivia**: Answer challenging questions across various knowledge topics with immediate visual feedback
- **🏆 National Scoring System**: Every correct answer adds points to your country's total score on the global leaderboard
- **⚡ Strategic Skip System**: Use exactly 3 skips per game to avoid difficult questions strategically
- **📊 Personal Impact Tracking**: View your exact contribution percentage to your country's success
- **🔥 Live Global Competition**: Watch real-time leaderboard updates as countries battle for supremacy
- **💀 High-Stakes Elimination**: Face elimination after 5 incorrect answers, making each question a critical decision
- **🎯 Streak System**: Build answer streaks (displayed with 🔥 emoji) to track your consecutive correct answers
- **👑 Top Player Recognition**: See the top contributing player from your country with their contribution percentage

The game creates genuine national pride in trivia gaming, where individual knowledge directly impacts collective national achievement. With limited skips and elimination pressure, every question becomes a strategic decision between risking an answer or preserving your precious resources.

## What Makes This Game Innovative?

### 🌍 **Collective National Competition**
Unlike traditional solo trivia games, IQlympics transforms individual knowledge into national achievement. Every correct answer contributes points to your entire country's global ranking, creating a unique patriotic gaming experience where your knowledge directly impacts your nation's standing on the world stage. Players can see exactly how much they've contributed to their country's success and compete to become their nation's top player.

### 🏆 **Dynamic Multi-Layer Leaderboard System**
The sophisticated ranking system provides comprehensive feedback across multiple levels:
- **Global Rankings**: View the top 5 countries with their total points and authentic flag displays
- **Personal Impact**: Track your exact contribution percentage to your country's success with animated progress visualization
- **Top Player Recognition**: See the highest contributing player from your country with crown icon (👑) and their contribution percentage
- **Real-time Updates**: Watch live leaderboard changes as players worldwide contribute to their nations
- **Olympic-Style Podium**: Medal rankings (🥇🥈🥉) with proper positioning for visual impact

### ⚡ **Strategic Resource Management**
The precisely balanced skip system creates meaningful decision-making:
- **Limited Skips**: Exactly 3 skips per game session - no more, no less
- **High-Stakes Choices**: With only 5 wrong answers allowed before elimination, each skip becomes a precious lifeline
- **Strategic Depth**: Players must carefully balance risk vs. reward on every question
- **Visual Feedback**: Real-time skip counter in the gameplay header shows remaining resources

### 🎮 **Engaging Splash Screen with Live Competition Data**
Dynamic first impression that showcases real competition:
- **Live Top 3 Podium**: Real-time display of leading countries with authentic flags and current point totals
- **Olympic-Style Presentation**: Medal podium with proper positioning (2nd, 1st, 3rd arrangement)
- **Inspiring Call-to-Action**: Professional "🎮 Join Competition" button with motivational messaging
- **Real-Time Data**: Fetches live leaderboard data to show actual current competition standings
- **Smooth Transitions**: Seamless flow from splash screen to country selection or gameplay

### 📱 **Mobile-First Reddit Integration**
Built specifically for Reddit using Devvit technology:
- **Full React Application**: Complete trivia experience running in webview mode within Reddit posts
- **Seamless Reddit Integration**: Automatic Reddit user authentication and data persistence
- **Touch-Optimized Design**: Touch-friendly interface with minimum 44px button heights for mobile interaction
- **Responsive Card Layout**: Adaptive design that works perfectly from mobile to desktop
- **Professional Polish**: Smooth animations, loading states, and comprehensive error handling

### 🎯 **Gamified National Pride System**
IQlympics channels competitive nationalism positively:
- **Meaningful Contribution**: Personal contribution percentage shows exactly how each player impacts their nation
- **Top Player Recognition**: Compete to become your country's highest contributor with crown badge (👑) recognition
- **Collective Achievement**: Individual success directly translates to national glory
- **Emotional Investment**: Players experience genuine pride when contributing to their country's leaderboard position
- **Global Competition**: Real-time competition between all world nations creates ongoing engagement
- **Streak Building**: Visual streak counter (🔥) tracks consecutive correct answers and builds momentum

### 💀 **Elimination-Based Tension System**
Unlike endless trivia games, IQlympics creates genuine stakes:
- **5-Strike Elimination**: Game over after exactly 5 incorrect answers
- **Escalating Pressure**: Each wrong answer increases tension and makes skips more valuable
- **Strategic Decision Points**: Every question becomes a high-stakes choice between risk and resource preservation
- **Professional Game Over**: Clean elimination screen with clear messaging and leaderboard access

## How to Play IQlympics

### 🚀 **Getting Started**

1. **Launch the Game**
   - Find an IQlympics post on Reddit and click "Launch App" to open the game
   - **Engaging Splash Screen**: Experience an impressive podium display featuring:
     - 🥇🥈🥉 Medal podium with the current top 3 countries
     - Live country flags and point totals from real leaderboard data
     - Professional "🎮 Join Competition" button to enter the game
     - Inspiring description: "Test your geography knowledge and compete with players worldwide!"
   - **Smart Player Detection**: The game automatically detects if you're a returning player or need to create a new profile
   - **Seamless Flow**: New players proceed to country selection, returning players go directly to gameplay

2. **Choose Your Country** (New Players Only)
   - **Browse 195+ Countries**: Scroll through a comprehensive, searchable list of countries with authentic flag displays
   - **Smart Search System**: Use the search bar with real-time filtering to quickly find your country
     - Search icon (🔍) and clear button (✕) for easy navigation
     - Live country count updates as you type (e.g., "195 countries" → "12 countries")
     - Instant filtering with no delays or loading states
   - **Visual Country Selection**: Each country displays with:
     - Authentic flag image or emoji fallback
     - Full country name in readable typography
     - Radio button selector for clear selection indication
     - Touch-friendly selection with hover effects and animations
   - **Form Validation**: Built-in validation ensures you select a country before proceeding
   - **Create Player**: Click "Create Player" to confirm your selection and enter the competition

### 🎯 **Core Gameplay Experience**

3. **Answer Multiple-Choice Questions**
   - **Question Format**: Each question presents exactly 4 answer options in a clean, vertical layout
   - **Mobile-Optimized Display**: Large, readable text with proper spacing designed for touch interaction
   - **Answer Selection Process**:
     - Tap any answer option to select it
     - Selected answer highlights in blue with a subtle pulse animation
     - Loading spinner appears during answer submission
     - Immediate visual feedback shows correctness
   - **Visual Feedback System**:
     - ✅ **Correct Answers**: Turn green with success pulse and glow effect
     - ❌ **Incorrect Answers**: Turn red with shake animation
     - ⏳ **Processing**: Blue highlight with loading spinner
     - 🔄 **Auto-Advance**: 2-second feedback display before next question loads
   - **Question Variety**: Diverse trivia topics covering general knowledge categories
   - **Streak Building**: Consecutive correct answers build your streak (🔥) displayed below the game card
   - **Elimination Pressure**: Remember - 5 wrong answers ends your game session!

4. **Strategic Skip System**
   - **Resource Management**: Start with exactly 3 skips per game - use them strategically!
   - **Skip Interface**:
     - Skip button (⏭️) with live counter in the compact header outside the game card
     - Real-time display shows remaining skips (e.g., "3", "2", "1", "0")
     - Button becomes disabled and grayed out when exhausted
   - **Strategic Decisions**:
     - Skip difficult questions to preserve your 5-life limit
     - Balance risk vs. reward on every question
     - No score penalty for skipping (doesn't count as wrong answer)
   - **Instant Results**: Skipping immediately loads the next question without delay

5. **Navigation & Game Controls**
   - **Compact Header Design**: Clean, minimal header positioned outside the main game card
     - Left side: Skip button with counter (⏭️ 3)
     - Right side: Leaderboard access button (📊)
   - **Streak Display**: Fire emoji (🔥) with current streak count displayed below the game card
   - **Seamless Screen Transitions**:
     - Access leaderboard anytime during gameplay without losing progress
     - Return to gameplay using the back arrow (←) button positioned outside the leaderboard card
     - Game state preserved across all navigation
   - **Automatic Game Flow**:
     - Game detects elimination after 5 wrong answers
     - Automatic transition to professional game over screen
     - Preserved leaderboard access from game over state

### 🏆 **Leaderboard & Global Competition**

6. **View Live Global Rankings**
   - **Top 5 Countries Display**:
     - Authentic country flags with full country names
     - Total point scores for each nation
     - Animated ranking positions with smooth transitions
     - Medal styling for top 3 positions (🥇🥈🥉)
   - **Your Country's Performance**:
     - Highlighted section with special blue styling
     - Current global ranking position and total points
     - Clear visual separation from other countries
   - **Personal Impact Tracking**:
     - Exact contribution percentage to your country's total score
     - Animated progress bars with gradient fills and shimmer effects
     - Visual representation of your individual impact on national success
   - **Top Player Recognition**:
     - 🏆 "Top Player from Your Country" section (when available)
     - Player avatar (👤), username, and contribution percentage
     - Crown badge (👑) for the highest contributor from your nation
   - **Real-time Updates**: Leaderboard reflects live scores from all global players

7. **Game Over & Session End**
   - **Professional Elimination Screen**:
     - Clear game over icon (🚫) and messaging
     - Explanation of 5-wrong-answer elimination rule
     - Information about playing again in another post
   - **Final Actions**:
     - Direct access to view final leaderboard standings
     - See your country's final performance and your contribution
     - Clean session termination with replay instructions

### 🎮 **Complete Game Flow Summary**

**Full Gameplay Sequence**:
1. **Splash Screen** (podium with top 3 countries) → 2. **Country Selection** (new players) → 3. **Question Answering** → 4. **Strategic Skip Usage** → 5. **Streak Building** → 6. **Leaderboard Viewing** → 7. **Elimination** (5 wrong answers) → 8. **Final Standings**

**Key Gameplay Features**:
- **High-Stakes Decision Making**: Every question matters with elimination pressure
- **Resource Management**: Strategic use of 3 precious skips
- **Streak System**: Build consecutive correct answer streaks for maximum impact
- **National Pride**: Individual success directly contributes to country rankings
- **Mobile-First Experience**: Touch-optimized interface designed for Reddit's mobile users
- **Instant Feedback**: Immediate visual responses to all player actions
- **Professional Polish**: Smooth animations, loading states, and error handling
- **Seamless Navigation**: Fluid transitions between all game screens
- **Real-time Competition**: Live global leaderboard updates and scoring

---

## Technical Architecture

**Platform**: Reddit Devvit Web Application  
**Frontend**: React 18 with TypeScript  
**Backend**: Express.js with Redis data persistence  
**Build System**: Vite with TypeScript project references  
**Styling**: Tailwind CSS with custom animations and responsive design  
**Country Data**: 195+ countries with authentic flag integration  

### Key Technical Features

**Robust API Layer**:
- Comprehensive APIClient service with error handling and retry logic
- Type-safe request/response validation using TypeScript type guards
- RESTful endpoints for player creation, gameplay, and leaderboard operations
- Automatic network failure handling with user-friendly error messages
- Generic fetch wrapper with logging and response validation

**Type-Safe Architecture**:
- Strict TypeScript implementation across client, server, and shared modules
- Complete type definitions for Player, Question, GameStatus, and Leaderboard entities
- Runtime type validation for API responses with enhanced correctIndex validation
- Shared type system ensuring consistency between frontend and backend
- React error boundaries for graceful error handling

**Mobile-Optimized Design**:
- Responsive card-based layout optimized for mobile Reddit users
- Touch-friendly button sizing (minimum 44px height) and interaction patterns
- Custom CSS animations for answer feedback, loading states, and micro-interactions
- Smooth transitions and visual feedback for enhanced user experience
- Blue wave background with floating card design

**Reddit Integration**:
- **Engaging Splash Screen**: Beautiful React-based splash screen displaying live top 3 country podium with medals and flags
- **Full React Application**: Complete trivia experience running in webview mode within Reddit posts
- **Live Data Integration**: Splash screen fetches real-time leaderboard data via `/api/splash` endpoint to showcase current top countries
- **Seamless Launch**: "🎮 Join Competition" button transitions smoothly from splash to country selection or gameplay
- **Automatic Authentication**: Reddit user authentication handled automatically by Devvit middleware
- **Express Server Backend**: Redis persistence for game state, player data, and leaderboard tracking

## Development Status

**Current Status**: ✅ **PRODUCTION READY** - Complete Game Implementation

### ✅ **Fully Implemented & Tested Features**

**Complete Game Flow**:
- ✅ **Engaging Splash Screen**: Dynamic podium display with live top 3 countries, medals, and "Join Competition" call-to-action
- ✅ **Player Registration**: Country selection from 195+ countries with authentic flags and real-time search functionality
- ✅ **Real-time Trivia Gameplay**: Multiple-choice questions with immediate visual feedback and smooth animations
- ✅ **Strategic Skip System**: Exactly 3 skips per game session with live counter display and strategic decision-making
- ✅ **Live Global Leaderboard**: Top 5 country rankings with personal contribution tracking and animated progress bars
- ✅ **Game Over Handling**: Professional elimination screen after 5 incorrect answers with clear messaging
- ✅ **Seamless Navigation**: Fluid transitions between all game screens with proper state management
- ✅ **Smart Player Detection**: Automatic detection of returning players vs. new player registration

**Core Gameplay Mechanics**:
- ✅ **Question Display**: Clean, centered format with four multiple-choice options in mobile-optimized vertical layout
- ✅ **Answer Feedback System**: 
  - Blue selection highlighting with loading spinner during submission
  - Green success animation with pulse effect for correct answers
  - Red shake animation for incorrect answers
  - 2-second feedback display before auto-advancing to next question
- ✅ **Skip System**: Strategic resource management with 3 starting skips and real-time counter (⏭️ button)
- ✅ **Elimination System**: Game over after exactly 5 incorrect answers with professional elimination screen
- ✅ **Score Tracking**: Individual contributions to country totals with animated percentage calculations
- ✅ **Leaderboard Display**: Top 5 countries with authentic flags, full country names, point totals, and medal styling
- ✅ **Compact Navigation**: Clean header design with leaderboard access (📊) and back navigation (←) controls

**Professional UI & UX**:
- ✅ **Mobile-First Design**: Responsive card-based layout with blue wave background optimized for Reddit's mobile users
- ✅ **Touch Optimization**: Proper button sizing (minimum 44px height), spacing, and touch-friendly interactions
- ✅ **Smooth Animations**: Professional CSS animations for answer feedback, loading states, and page transitions
- ✅ **Loading States**: Professional loading indicators and comprehensive error handling with retry functionality
- ✅ **Accessibility**: Proper ARIA labels, keyboard navigation, and screen reader support
- ✅ **Country Search**: Real-time filtering with visual flag displays and live country count updates

**Technical Implementation**:
- ✅ **Type Safety**: Complete TypeScript implementation with strict type checking across client, server, and shared modules
- ✅ **Error Boundaries**: React error boundaries with graceful error handling and user-friendly messages
- ✅ **API Integration**: Full client-server communication using fetch with proper error handling and retry logic
- ✅ **State Management**: Complete app state handling across all game screens with proper navigation flow
- ✅ **Build System**: Optimized Vite configuration with TypeScript project references and hot reloading
- ✅ **Component Architecture**: Modular React components with proper separation of concerns and reusability

### 🎮 **Ready for Reddit Deployment**

The game provides a complete, polished experience with the following flow:

**Complete User Journey**:
1. **Splash Screen** (live top 3 country podium with medals) 
2. **Country Selection** (new players only - 195+ countries with search)
3. **Trivia Questions** (multiple-choice with visual feedback and streak tracking 🔥)
4. **Strategic Skip Usage** (3 skips with live counter)
5. **Leaderboard Viewing** (top 5 countries + personal contribution + top player recognition)
6. **Game Over** (after 5 wrong answers with professional screen)
7. **Final Standings** (leaderboard access from game over state)

All core mechanics are fully functional with comprehensive error handling, smooth animations, and mobile-optimized design. The game features a complete elimination system where players face strategic decisions with each question, knowing that 5 incorrect answers will end their session, creating genuine tension and engagement. Players can track their consecutive correct answers with a live streak counter and compete to become their country's top contributor.

### For Developers

**Development Commands**:
```bash
# Start development server with hot reloading
npm run dev

# Build for production
npm run build

# Deploy to Reddit
npm run deploy

# Run code quality checks
npm run check
```

**Testing the Game**:
1. Run `npm run dev` to start the Devvit playtest environment
2. Open the provided Reddit playtest URL in your browser
3. Click "Launch App" to test the full-screen game experience
4. All backend functionality requires the Devvit environment for proper Reddit integration

---

🎯 **Ready to represent your country in the ultimate knowledge Olympics?** IQlympics combines the excitement of trivia with the pride of national competition, creating a unique gaming experience where your knowledge directly contributes to your country's global standing. Join the competition and help your nation climb the leaderboard! 🌍🏆